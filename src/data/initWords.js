// 初始单词数据 - 三年级上册（真实数据）
// 数据来源：实际教材

export const defaultWordLibrary = {
  "三年级上册": {
    "Unit 1": [
      { word: "name", meaning: "名字", pronunciation: "/neɪm/" },
      { word: "nice", meaning: "令人愉快的；友好的", pronunciation: "/naɪs/" },
      { word: "meet", meaning: "遇见；会面", pronunciation: "/miːt/" },
      { word: "love", meaning: "爱；喜欢", pronunciation: "/lʌv/" },
      { word: "have", meaning: "有；具有", pronunciation: "/hæv/" },
      { word: "arm", meaning: "胳膊", pronunciation: "/ɑːm/" },
      { word: "mum", meaning: "妈妈（口语）", pronunciation: "/mʌm/" },
      { word: "can", meaning: "能；会", pronunciation: "/kæn/" },
      { word: "smile", meaning: "微笑", pronunciation: "/smaɪl/" },
      { word: "listen", meaning: "听；倾听", pronunciation: "/ˈlɪsn/" },
      { word: "then", meaning: "那么；然后", pronunciation: "/ðen/" },
      { word: "say", meaning: "说；讲", pronunciation: "/seɪ/" },
      { word: "and", meaning: "和；与", pronunciation: "/ænd/" },
      { word: "goodbye", meaning: "再见", pronunciation: "/ˌɡʊdˈbaɪ/" },
      { word: "my", meaning: "我的", pronunciation: "/maɪ/" },
      { word: "friend", meaning: "朋友", pronunciation: "/frend/" },
      { word: "good", meaning: "好的", pronunciation: "/ɡʊd/" },
    ],
    "Unit 2": [
      { word: "mum", meaning: "妈妈（口语）", pronunciation: "/mʌm/" },
      { word: "dad", meaning: "爸爸（口语）", pronunciation: "/dæd/" },
      { word: "grandma", meaning: "（外）祖母；奶奶；外婆", pronunciation: "/ˈɡrænmɑː/" },
      { word: "grandpa", meaning: "（外）祖父；爷爷；外公", pronunciation: "/ˈɡrænpɑː/" },
      { word: "grandfather", meaning: "（外）祖父", pronunciation: "/ˈɡrænfɑːðə/" },
      { word: "grandmother", meaning: "（外）祖母", pronunciation: "/ˈɡrænmʌðə/" },
      { word: "fish", meaning: "鱼；鱼肉", pronunciation: "/fɪʃ/" },
      { word: "bird", meaning: "鸟", pronunciation: "/bɜːd/" },
      { word: "dog", meaning: "狗", pronunciation: "/dɒɡ/" },
      { word: "rabbit", meaning: "兔", pronunciation: "/ˈræbɪt/" },
      { word: "zoo", meaning: "动物园", pronunciation: "/zuː/" },
      { word: "fox", meaning: "狐狸", pronunciation: "/fɒks/" },
      { word: "Miss", meaning: "女士（用于对未婚女性的称呼）", pronunciation: "/mɪs/" },
      { word: "grandparents", meaning: "祖父母；外祖父母", pronunciation: "/ˈɡrænpeərənts/" },
      { word: "grammar", meaning: "语法", pronunciation: "/ˈɡræmə/" },
      { word: "mother", meaning: "母亲；妈妈", pronunciation: "/ˈmʌðə/" },
      { word: "father", meaning: "父亲；爸爸", pronunciation: "/ˈfɑːðə/" },
    ],
    "Unit 3": [
      { word: "like", meaning: "喜欢", pronunciation: "/laɪk/" },
      { word: "dog", meaning: "狗", pronunciation: "/dɒɡ/" },
      { word: "cat", meaning: "猫", pronunciation: "/kæt/" },
      { word: "pet", meaning: "宠物", pronunciation: "/pet/" },
      { word: "bird", meaning: "鸟", pronunciation: "/bɜːd/" },
      { word: "fish", meaning: "鱼；鱼肉", pronunciation: "/fɪʃ/" },
      { word: "rabbit", meaning: "兔", pronunciation: "/ˈræbɪt/" },
      { word: "tiger", meaning: "老虎", pronunciation: "/ˈtaɪɡə/" },
      { word: "panda", meaning: "大熊猫", pronunciation: "/ˈpændə/" },
      { word: "elephant", meaning: "大象", pronunciation: "/ˈelɪfənt/" },
      { word: "lion", meaning: "狮子", pronunciation: "/ˈlaɪən/" },
      { word: "cute", meaning: "可爱的", pronunciation: "/kjuːt/" },
      { word: "monkey", meaning: "猴子", pronunciation: "/ˈmʌŋki/" },
      { word: "tall", meaning: "高的", pronunciation: "/tɔːl/" },
      { word: "short", meaning: "短的；矮的", pronunciation: "/ʃɔːt/" },
      { word: "long", meaning: "长的", pronunciation: "/lɒŋ/" },
      { word: "fat", meaning: "胖的；肥的", pronunciation: "/fæt/" },
      { word: "thin", meaning: "瘦的", pronunciation: "/θɪn/" },
      { word: "big", meaning: "大的", pronunciation: "/bɪɡ/" },
      { word: "small", meaning: "小的", pronunciation: "/smɔːl/" },
      { word: "that", meaning: "那；那个", pronunciation: "/ðæt/" },
      { word: "they", meaning: "他（她、它）们", pronunciation: "/ðeɪ/" },
    ],
    "Unit 4": [
      { word: "forest", meaning: "森林", pronunciation: "/ˈfɒrɪst/" },
      { word: "river", meaning: "河；江", pronunciation: "/ˈrɪvə/" },
      { word: "lake", meaning: "湖", pronunciation: "/leɪk/" },
      { word: "panda", meaning: "大熊猫", pronunciation: "/ˈpændə/" },
      { word: "bear", meaning: "熊", pronunciation: "/beə/" },
      { word: "dog", meaning: "狗", pronunciation: "/dɒɡ/" },
      { word: "pig", meaning: "猪", pronunciation: "/pɪɡ/" },
      { word: "cat", meaning: "猫", pronunciation: "/kæt/" },
      { word: "farm", meaning: "农场", pronunciation: "/fɑːm/" },
      { word: "tom", meaning: "汤姆（人名）", pronunciation: "/tɒm/" },
      { word: "green", meaning: "绿色的；绿色", pronunciation: "/ɡriːn/" },
      { word: "red", meaning: "红色的；红色", pronunciation: "/red/" },
      { word: "blue", meaning: "蓝色的；蓝色", pronunciation: "/bluː/" },
      { word: "yellow", meaning: "黄色的；黄色", pronunciation: "/ˈjeləʊ/" },
      { word: "purple", meaning: "紫色的；紫色", pronunciation: "/ˈpɜːpl/" },
      { word: "brown", meaning: "棕色的；棕色", pronunciation: "/braʊn/" },
      { word: "orange", meaning: "橙色的；橙色", pronunciation: "/ˈɒrɪndʒ/" },
      { word: "black", meaning: "黑色的；黑色", pronunciation: "/blæk/" },
      { word: "white", meaning: "白色的；白色", pronunciation: "/waɪt/" },
    ],
    "Unit 5": [
      { word: "colour", meaning: "颜色；给……着色", pronunciation: "/ˈkʌlə/" },
      { word: "orange", meaning: "橙色；橙色的", pronunciation: "/ˈɒrɪndʒ/" },
      { word: "them", meaning: "他（她、它）们；她们；它们", pronunciation: "/ðəm/" },
      { word: "this", meaning: "这；这个", pronunciation: "/ðɪs/" },
      { word: "sun", meaning: "太阳；阳光", pronunciation: "/sʌn/" },
      { word: "tree", meaning: "树", pronunciation: "/triː/" },
      { word: "new", meaning: "新的", pronunciation: "/njuː/" },
      { word: "grass", meaning: "草；草地", pronunciation: "/ɡrɑːs/" },
      { word: "plant", meaning: "植物；种植", pronunciation: "/plɑːnt/" },
      { word: "flower", meaning: "花；花朵", pronunciation: "/ˈflaʊə/" },
      { word: "water", meaning: "给……浇水；水", pronunciation: "/ˈwɔːtə/" },
      { word: "one", meaning: "一", pronunciation: "/wʌn/" },
      { word: "two", meaning: "二", pronunciation: "/tuː/" },
      { word: "three", meaning: "三", pronunciation: "/θriː/" },
      { word: "four", meaning: "四", pronunciation: "/fɔː/" },
      { word: "five", meaning: "五", pronunciation: "/faɪv/" },
      { word: "six", meaning: "六", pronunciation: "/sɪks/" },
      { word: "seven", meaning: "七", pronunciation: "/ˈsevən/" },
      { word: "eight", meaning: "八", pronunciation: "/eɪt/" },
      { word: "nine", meaning: "九", pronunciation: "/naɪn/" },
      { word: "ten", meaning: "十", pronunciation: "/ten/" },
      { word: "cut", meaning: "切；砍", pronunciation: "/kʌt/" },
      { word: "out", meaning: "出；向外", pronunciation: "/aʊt/" },
      { word: "code", meaning: "密码", pronunciation: "/kəʊd/" },
    ],
    "Unit 6": [
      { word: "old", meaning: "老的；岁（多少岁）；年纪", pronunciation: "/əʊld/" },
      { word: "year", meaning: "年；年纪；岁", pronunciation: "/jɪə/" },
      { word: "five", meaning: "五", pronunciation: "/faɪv/" },
      { word: "ten", meaning: "十", pronunciation: "/ten/" },
      { word: "one", meaning: "一", pronunciation: "/wʌn/" },
      { word: "two", meaning: "二", pronunciation: "/tuː/" },
      { word: "three", meaning: "三", pronunciation: "/θriː/" },
      { word: "four", meaning: "四", pronunciation: "/fɔː/" },
      { word: "six", meaning: "六", pronunciation: "/sɪks/" },
      { word: "seven", meaning: "七", pronunciation: "/ˈsevən/" },
      { word: "eight", meaning: "八", pronunciation: "/eɪt/" },
      { word: "nine", meaning: "九", pronunciation: "/naɪn/" },
      { word: "o'clock", meaning: "（表示整点）……点钟", pronunciation: "/əˈklɒk/" },
      { word: "time", meaning: "时间", pronunciation: "/taɪm/" },
    ],
  },
};

/**
 * 解析导入的单词文本
 * @param {string} text - 格式化的单词文本
 * @returns {Object} 解析后的单词库
 *
 * 期望格式：
 * 年级段名称
 * Unit 1: word1-意思1, word2-意思2, ...
 * Unit 2: word1-意思1, word2-意思2, ...
 */
export const parseWordText = (text) => {
  const lines = text.trim().split('\n');
  const gradeName = lines[0].trim();
  const units = {};

  for (let i = 1; i < lines.length; i++) {
    const line = lines[i].trim();
    if (!line) continue;

    const match = line.match(/^(Unit \d+):\s*(.+)$/);
    if (match) {
      const unitName = match[1];
      const wordsText = match[2];

      const words = wordsText.split(',').map(wordPair => {
        const [word, meaning] = wordPair.trim().split('-');
        return {
          word: word?.trim() || '',
          meaning: meaning?.trim() || '',
        };
      }).filter(w => w.word && w.meaning);

      units[unitName] = words;
    }
  }

  return { [gradeName]: units };
};
